{% comment %}
  Pagination

  Parameters:
  - paginate: The paginate object
{% endcomment %}

{%- if paginate.pages > 1 -%}
  <nav class="pagination" role="navigation" aria-label="Pagination">
    <ul class="pagination__list">
      {%- if paginate.previous -%}
        <li class="pagination__item">
          <a
            href="{{ paginate.previous.url }}"
            class="pagination__link pagination__link--prev"
            aria-label="Previous page"
          >
            {% render 'icon-chevron-left' %}
            <span class="visually-hidden">Previous page</span>
          </a>
        </li>
      {%- else -%}
        <li class="pagination__item">
          <span class="pagination__link pagination__link--prev pagination__link--disabled">
            {% render 'icon-chevron-left' %}
            <span class="visually-hidden">Previous page</span>
          </span>
        </li>
      {%- endif -%}

      {%- for part in paginate.parts -%}
        {%- if part.is_link -%}
          <li class="pagination__item">
            <a
              href="{{ part.url }}"
              class="pagination__link"
              aria-label="Page {{ part.title }}"
            >
              {{ part.title }}
            </a>
          </li>
        {%- else -%}
          <li class="pagination__item">
            {%- if part.title == paginate.current_page -%}
              <span class="pagination__link pagination__link--current" aria-current="page">
                {{ part.title }}
              </span>
            {%- else -%}
              <span class="pagination__link pagination__link--ellipsis">
                {{ part.title }}
              </span>
            {%- endif -%}
          </li>
        {%- endif -%}
      {%- endfor -%}

      {%- if paginate.next -%}
        <li class="pagination__item">
          <a
            href="{{ paginate.next.url }}"
            class="pagination__link pagination__link--next"
            aria-label="Next page"
          >
            {% render 'icon-chevron-right' %}
            <span class="visually-hidden">Next page</span>
          </a>
        </li>
      {%- else -%}
        <li class="pagination__item">
          <span class="pagination__link pagination__link--next pagination__link--disabled">
            {% render 'icon-chevron-right' %}
            <span class="visually-hidden">Next page</span>
          </span>
        </li>
      {%- endif -%}
    </ul>
  </nav>
{%- endif -%}

<style>
.pagination {
  margin: 3rem 0 1rem;
  display: flex;
  justify-content: center;
}

.pagination__list {
  display: flex;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 0;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.pagination__item {
  margin: 0;
}

.pagination__link {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2.5rem;
  height: 2.5rem;
  padding: 0 0.5rem;
  border-radius: var(--radius-small);
  border: 1px solid var(--color-border);
  background-color: var(--color-white);
  color: var(--color-text);
  font-size: 0.9rem;
  text-decoration: none;
  transition: all 0.2s ease;
}

.pagination__link:hover:not(.pagination__link--disabled) {
  border-color: var(--color-primary);
  background-color: var(--color-primary-lighter);
  color: var(--color-primary);
}

.pagination__link--current {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-white);
  font-weight: 600;
}

.pagination__link--prev,
.pagination__link--next {
  min-width: 2.5rem;
}

.pagination__link--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.pagination__link--ellipsis {
  border: none;
  background: none;
}

@media screen and (max-width: 767px) {
  .pagination__list {
    gap: 0.25rem;
  }

  .pagination__link {
    min-width: 2rem;
    height: 2rem;
    font-size: 0.8rem;
  }
}
</style>